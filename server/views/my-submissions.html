{% extends 'layout.html' %}
{% from "govuk/components/back-link/macro.njk" import govukBackLink %}
{% from "govuk/components/error-summary/macro.njk" import govukErrorSummary %}
{% from "govuk/components/fieldset/macro.njk" import govukFieldset %}
{% from "govuk/components/input/macro.njk" import govukInput %}
{% from "govuk/components/button/macro.njk" import govukButton %}
{% from "govuk/components/checkboxes/macro.njk" import govukCheckboxes %}
{% from "govuk/components/table/macro.njk" import govukTable %}


{% block beforeContent %}
<div class="govuk-grid-row">
    {{ govukBackLink({
        text: pageHeader,
        href: backLink,
          attributes: {id: 'linkBack'}
      }) }}
</div>
 

  {% if errorList %}
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
      {{govukErrorSummary ({
      "titleText": errorSummaryTitle,
      "errorList": errorList
      }) }}
    </div>
  </div>
{% endif %}



{% endblock %}
{% block content %}
  <div class="govuk-grid-row">
        <form method="POST" autocomplete="off" novalidate="novalidate">
            <div class="govuk-grid-row govuk-!-margin-bottom-3">
              <div class="govuk-grid-column-three-quarters">
                <h1 class="govuk-heading-l">
                    {{pageHeader}}
                </h1>
             </div>
            </div>
            <div class="govuk-grid-row">
              <div class="govuk-grid-column-one-half">
                  {{ govukInput(inputSearch) }}
              </div>
              <div class="govuk-grid-column-one-quarter govuk-!-padding-top-7"><p class="govuk-body">
                  <a href="{{clearSearchLink}}">{{clearSearchLinkText}}</a>
                </p>   
              </div>
              <div class="govuk-grid-column-one-quarter govuk-!-padding-top-7">
                  {{ govukButton({
                      text: buttonStartNewApplication,
                      type: "submit"
                    }) }}
              </div>
              <div class="govuk-grid-row">
                <div class="govuk-grid-column-one-quarter">
                  <h2 class="govuk-heading-m">
                    {{headerFilters}}
                  </h2>
                  <p class="govuk-body govuk-!-font-weight-bold">{{ pageBodyPermitType}}</p>
                  {{ govukCheckboxes(checkboxPermitType) }}
                  <p class="govuk-body govuk-!-font-weight-bold">{{ pageBodyStatus}}</p>
                  {{ govukCheckboxes(checkboxStatus) }}

                  {{ govukButton({
                    text: buttonApplyFilters,
                    classes: "govuk-button--secondary",
                    type: "submit"
                  }) }}
                </div>
                <div class="govuk-grid-column-three-quarters">
                  <table class="govuk-table">
                    <thead class="govuk-table__head">
                      <tr class="govuk-table__row">
                        <th scope="col" class="govuk-table__header govuk-!-width-one-quarter">{{tableHeadReferenceNumber}}</th>
                        <th scope="col" class="govuk-table__header govuk-!-width-one-quarter" style="text-align:right">{{tableHeadApplicationDate}}</th>
                        <th scope="col" class="govuk-table__header govuk-!-width-one-third" style="text-align:right">{{tableHeadStatus}}</th>
                      </tr>
                    </thead>
                    
                    <tbody class="govuk-table__body">
                      {% if submissionsData !==0 %}
                      {% for submission in submissionsData %}
                      <tr class="govuk-table__row">
                        <td class="govuk-table__cell">
                          <a href="{{submission.referenceNumberUrl}}">{{submission.referenceNumber}}</a>
                        </td>
                        <td class="govuk-table__cell" style="text-align:right">{{submission.applicationDate}}</td>
                        <td class="govuk-table__cell" style="text-align:right">{{submission.status}}</td>
                      </tr> 
                      {% endfor %}   
                      {% endif %}      
                    </tbody>
                  </table>

                  {% if pagebodyNoApplicationsFound %}
                     <p class="govuk-body">{{pagebodyNoApplicationsFound}}</p>
                  {% endif %}

                  {% if pagebodyZeroApplication %}
                    <p class="govuk-body">{{pagebodyZeroApplication}}</p>
                  {% endif %}

                </div>
              </div>
              <div class="govuk-grid-row">
                <div class="govuk-grid-column-full">
                  <div class="govuk-grid-column-one-quarter">
                    <p></p>

                  </div>
                  <div class="govuk-grid-column-one-half">
                    <nav class="govuk-pagination govuk-!-display-inline" role="navigation" aria-label="results">
                      <div class="govuk-pagination__prev">
                        <a class="govuk-link govuk-pagination__link" href="#" rel="prev">
                          <svg class="govuk-pagination__icon govuk-pagination__icon--prev" xmlns="http://www.w3.org/2000/svg" height="13" width="15" aria-hidden="true" focusable="false" viewBox="0 0 15 13">
                            <path d="m6.5938-0.0078125-6.7266 6.7266 6.7441 6.4062 1.377-1.449-4.1856-3.9768h12.896v-2h-12.984l4.2931-4.293-1.414-1.414z"></path>
                          </svg>
                          <span class="govuk-pagination__link-title govuk-!-font-size-19 govuk-!-font-weight-bold govuk-link-visited-colour">Previous</span></a>
                      </div>
                      <ul class="govuk-list govuk-pagination__list govuk-!-display-inline-block">
                        <li class="govuk-pagination__item">
                          <a class="govuk-link govuk-pagination__link" href="#" aria-label="Page 1">
                            1
                          </a>
                        </li>
                        <li class="govuk-pagination__item govuk-pagination__item--current">
                          <a class="govuk-link govuk-pagination__link" href="#" aria-label="Page 2" aria-current="page">
                            2
                          </a>
                        </li>
                        <li class="govuk-pagination__item">
                          <a class="govuk-link govuk-pagination__link" href="#" aria-label="Page 3">
                            3
                          </a>
                        </li>
                      </ul>
                      <div class="govuk-pagination__next">
                        <a class="govuk-link govuk-pagination__link" href="#" rel="next"> <span class="govuk-pagination__link-title">Next</span> <svg class="govuk-pagination__icon govuk-pagination__icon--next" xmlns="http://www.w3.org/2000/svg" height="13" width="15" aria-hidden="true" focusable="false" viewBox="0 0 15 13">
                            <path d="m8.107-0.0078125-1.4136 1.414 4.2926 4.293h-12.986v2h12.896l-4.1855 3.9766 1.377 1.4492 6.7441-6.4062-6.7246-6.7266z"></path>
                          </svg></a>
                      </div>
                    </nav>
                   

                  </div>
                  <div class="govuk-grid-column-one-quarter">
                    <p class="govuk-!-text-align-right">{{textPagination}}</p>
                  </div>

                </div>
                  
              



              </div>
        </div>
         
            

       
       
        

       
      </form>
   
  </div>
{% endblock %}